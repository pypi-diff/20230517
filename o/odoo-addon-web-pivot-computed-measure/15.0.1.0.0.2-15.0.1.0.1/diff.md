# Comparing `tmp/odoo_addon_web_pivot_computed_measure-15.0.1.0.0.2-py3-none-any.whl.zip` & `tmp/odoo_addon_web_pivot_computed_measure-15.0.1.0.1-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,28 +1,29 @@
-Zip file size: 33734 bytes, number of entries: 26
--rw-r--r--  2.0 unx     3904 b- defN 23-Mar-01 20:00 odoo/addons/web_pivot_computed_measure/README.rst
--rw-r--r--  2.0 unx        0 b- defN 23-Mar-01 20:00 odoo/addons/web_pivot_computed_measure/__init__.py
--rw-r--r--  2.0 unx      909 b- defN 23-Mar-01 20:00 odoo/addons/web_pivot_computed_measure/__manifest__.py
--rw-r--r--  2.0 unx     4522 b- defN 23-Mar-01 20:00 odoo/addons/web_pivot_computed_measure/i18n/ca.po
--rw-r--r--  2.0 unx     5247 b- defN 23-Mar-01 20:00 odoo/addons/web_pivot_computed_measure/i18n/es.po
--rw-r--r--  2.0 unx     4738 b- defN 23-Mar-01 20:00 odoo/addons/web_pivot_computed_measure/i18n/web_pivot_computed_measure.pot
--rw-r--r--  2.0 unx      123 b- defN 23-Mar-01 20:00 odoo/addons/web_pivot_computed_measure/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx       54 b- defN 23-Mar-01 20:00 odoo/addons/web_pivot_computed_measure/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx      128 b- defN 23-Mar-01 20:00 odoo/addons/web_pivot_computed_measure/readme/ROADMAP.rst
--rw-r--r--  2.0 unx     1017 b- defN 23-Mar-01 20:00 odoo/addons/web_pivot_computed_measure/readme/USAGE.rst
--rw-r--r--  2.0 unx     9455 b- defN 23-Mar-01 20:00 odoo/addons/web_pivot_computed_measure/static/description/icon.png
--rw-r--r--  2.0 unx    13804 b- defN 23-Mar-01 20:00 odoo/addons/web_pivot_computed_measure/static/description/index.html
--rw-r--r--  2.0 unx     1202 b- defN 23-Mar-01 20:00 odoo/addons/web_pivot_computed_measure/static/src/view.xml
--rw-r--r--  2.0 unx     1803 b- defN 23-Mar-01 20:00 odoo/addons/web_pivot_computed_measure/static/src/dropdown_item_custom_measure/dropdown_item_custom_measure.esm.js
--rw-r--r--  2.0 unx      184 b- defN 23-Mar-01 20:00 odoo/addons/web_pivot_computed_measure/static/src/dropdown_item_custom_measure/dropdown_item_custom_measure.scss
--rw-r--r--  2.0 unx     6908 b- defN 23-Mar-01 20:00 odoo/addons/web_pivot_computed_measure/static/src/dropdown_item_custom_measure/dropdown_item_custom_measure.xml
--rw-r--r--  2.0 unx     8364 b- defN 23-Mar-01 20:00 odoo/addons/web_pivot_computed_measure/static/src/pivot/pivot_model.esm.js
--rw-r--r--  2.0 unx      359 b- defN 23-Mar-01 20:00 odoo/addons/web_pivot_computed_measure/static/src/pivot/pivot_view.xml
--rw-r--r--  2.0 unx     1823 b- defN 23-Mar-01 20:00 odoo/addons/web_pivot_computed_measure/static/src/test/test.esm.js
--rw-r--r--  2.0 unx       28 b- defN 23-Mar-01 20:00 odoo/addons/web_pivot_computed_measure/tests/__init__.py
--rw-r--r--  2.0 unx      282 b- defN 23-Mar-01 20:00 odoo/addons/web_pivot_computed_measure/tests/res_users_fake.py
--rw-r--r--  2.0 unx     1108 b- defN 23-Mar-01 20:00 odoo/addons/web_pivot_computed_measure/tests/test_ui_pivot.py
--rw-r--r--  2.0 unx     4445 b- defN 23-Mar-01 20:00 odoo_addon_web_pivot_computed_measure-15.0.1.0.0.2.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Mar-01 20:00 odoo_addon_web_pivot_computed_measure-15.0.1.0.0.2.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Mar-01 20:00 odoo_addon_web_pivot_computed_measure-15.0.1.0.0.2.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     3165 b- defN 23-Mar-01 20:00 odoo_addon_web_pivot_computed_measure-15.0.1.0.0.2.dist-info/RECORD
-26 files, 73669 bytes uncompressed, 28228 bytes compressed:  61.7%
+Zip file size: 34584 bytes, number of entries: 27
+-rw-r--r--  2.0 unx     3904 b- defN 23-May-17 10:10 odoo/addons/web_pivot_computed_measure/README.rst
+-rw-r--r--  2.0 unx        0 b- defN 23-May-17 10:10 odoo/addons/web_pivot_computed_measure/__init__.py
+-rw-r--r--  2.0 unx      909 b- defN 23-May-17 10:10 odoo/addons/web_pivot_computed_measure/__manifest__.py
+-rw-r--r--  2.0 unx     4522 b- defN 23-May-17 10:10 odoo/addons/web_pivot_computed_measure/i18n/ca.po
+-rw-r--r--  2.0 unx     5247 b- defN 23-May-17 10:10 odoo/addons/web_pivot_computed_measure/i18n/es.po
+-rw-r--r--  2.0 unx     4738 b- defN 23-May-17 10:10 odoo/addons/web_pivot_computed_measure/i18n/web_pivot_computed_measure.pot
+-rw-r--r--  2.0 unx      123 b- defN 23-May-17 10:10 odoo/addons/web_pivot_computed_measure/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx       54 b- defN 23-May-17 10:10 odoo/addons/web_pivot_computed_measure/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx      128 b- defN 23-May-17 10:10 odoo/addons/web_pivot_computed_measure/readme/ROADMAP.rst
+-rw-r--r--  2.0 unx     1017 b- defN 23-May-17 10:10 odoo/addons/web_pivot_computed_measure/readme/USAGE.rst
+-rw-r--r--  2.0 unx     9455 b- defN 23-May-17 10:10 odoo/addons/web_pivot_computed_measure/static/description/icon.png
+-rw-r--r--  2.0 unx    13804 b- defN 23-May-17 10:10 odoo/addons/web_pivot_computed_measure/static/description/index.html
+-rw-r--r--  2.0 unx     1202 b- defN 23-May-17 10:10 odoo/addons/web_pivot_computed_measure/static/src/view.xml
+-rw-r--r--  2.0 unx     1803 b- defN 23-May-17 10:10 odoo/addons/web_pivot_computed_measure/static/src/dropdown_item_custom_measure/dropdown_item_custom_measure.esm.js
+-rw-r--r--  2.0 unx      184 b- defN 23-May-17 10:10 odoo/addons/web_pivot_computed_measure/static/src/dropdown_item_custom_measure/dropdown_item_custom_measure.scss
+-rw-r--r--  2.0 unx     6908 b- defN 23-May-17 10:10 odoo/addons/web_pivot_computed_measure/static/src/dropdown_item_custom_measure/dropdown_item_custom_measure.xml
+-rw-r--r--  2.0 unx     9913 b- defN 23-May-17 10:10 odoo/addons/web_pivot_computed_measure/static/src/pivot/pivot_model.esm.js
+-rw-r--r--  2.0 unx      608 b- defN 23-May-17 10:10 odoo/addons/web_pivot_computed_measure/static/src/pivot/pivot_view.esm.js
+-rw-r--r--  2.0 unx      359 b- defN 23-May-17 10:10 odoo/addons/web_pivot_computed_measure/static/src/pivot/pivot_view.xml
+-rw-r--r--  2.0 unx     1823 b- defN 23-May-17 10:10 odoo/addons/web_pivot_computed_measure/static/src/test/test.esm.js
+-rw-r--r--  2.0 unx       28 b- defN 23-May-17 10:10 odoo/addons/web_pivot_computed_measure/tests/__init__.py
+-rw-r--r--  2.0 unx      282 b- defN 23-May-17 10:10 odoo/addons/web_pivot_computed_measure/tests/res_users_fake.py
+-rw-r--r--  2.0 unx     1108 b- defN 23-May-17 10:10 odoo/addons/web_pivot_computed_measure/tests/test_ui_pivot.py
+-rw-r--r--  2.0 unx     4443 b- defN 23-May-17 10:10 odoo_addon_web_pivot_computed_measure-15.0.1.0.1.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-May-17 10:10 odoo_addon_web_pivot_computed_measure-15.0.1.0.1.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-May-17 10:10 odoo_addon_web_pivot_computed_measure-15.0.1.0.1.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     3286 b- defN 23-May-17 10:10 odoo_addon_web_pivot_computed_measure-15.0.1.0.1.dist-info/RECORD
+27 files, 75945 bytes uncompressed, 28872 bytes compressed:  62.0%
```

## zipnote {}

```diff
@@ -45,14 +45,17 @@
 
 Filename: odoo/addons/web_pivot_computed_measure/static/src/dropdown_item_custom_measure/dropdown_item_custom_measure.xml
 Comment: 
 
 Filename: odoo/addons/web_pivot_computed_measure/static/src/pivot/pivot_model.esm.js
 Comment: 
 
+Filename: odoo/addons/web_pivot_computed_measure/static/src/pivot/pivot_view.esm.js
+Comment: 
+
 Filename: odoo/addons/web_pivot_computed_measure/static/src/pivot/pivot_view.xml
 Comment: 
 
 Filename: odoo/addons/web_pivot_computed_measure/static/src/test/test.esm.js
 Comment: 
 
 Filename: odoo/addons/web_pivot_computed_measure/tests/__init__.py
@@ -60,20 +63,20 @@
 
 Filename: odoo/addons/web_pivot_computed_measure/tests/res_users_fake.py
 Comment: 
 
 Filename: odoo/addons/web_pivot_computed_measure/tests/test_ui_pivot.py
 Comment: 
 
-Filename: odoo_addon_web_pivot_computed_measure-15.0.1.0.0.2.dist-info/METADATA
+Filename: odoo_addon_web_pivot_computed_measure-15.0.1.0.1.dist-info/METADATA
 Comment: 
 
-Filename: odoo_addon_web_pivot_computed_measure-15.0.1.0.0.2.dist-info/WHEEL
+Filename: odoo_addon_web_pivot_computed_measure-15.0.1.0.1.dist-info/WHEEL
 Comment: 
 
-Filename: odoo_addon_web_pivot_computed_measure-15.0.1.0.0.2.dist-info/top_level.txt
+Filename: odoo_addon_web_pivot_computed_measure-15.0.1.0.1.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo_addon_web_pivot_computed_measure-15.0.1.0.0.2.dist-info/RECORD
+Filename: odoo_addon_web_pivot_computed_measure-15.0.1.0.1.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/web_pivot_computed_measure/__manifest__.py

```diff
@@ -1,13 +1,13 @@
 # Copyright 2020 Tecnativa - Alexandre DÃ­az
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl.html)
 {
     "name": "Web Pivot Computed Measure",
     "category": "web",
-    "version": "15.0.1.0.0",
+    "version": "15.0.1.0.1",
     "author": "Tecnativa, Odoo Community Association (OCA)",
     "license": "AGPL-3",
     "website": "https://github.com/OCA/web",
     "depends": ["web"],
     "auto_install": False,
     "installable": True,
     "assets": {
```

## odoo/addons/web_pivot_computed_measure/static/src/pivot/pivot_model.esm.js

### js-beautify {}

```diff
@@ -138,15 +138,15 @@
      * Helper function to add computed measure fields data into a 'subGroupData'
      *
      * @private
      * @param {Object} subGroupData
      */
     _fillComputedMeasuresData(subGroupData) {
         for (const cm of this._computed_measures) {
-            if (!this._isMeasureEnabled(cm.id)) return;
+            if (!this._isMeasureEnabled(cm.id)) continue;
             if (subGroupData.__count === 0) {
                 subGroupData[cm.id] = false;
             } else {
                 // eslint-disable-next-line no-undef
                 subGroupData[cm.id] = py.eval(cm.operation, subGroupData);
             }
         }
@@ -238,8 +238,52 @@
                     // [1, [2, 3]] => [1, 2, 3]
                     _.flatten(toEnable.reverse())
                 );
             }
         }
         return this._super(...arguments);
     },
+    /**
+     * Load the measures added to selected favorite filters
+     *
+     * @override
+     */
+    async load(searchParams) {
+        var _super = this._super.bind(this);
+        if ("context" in searchParams) {
+            this._computed_measures =
+                searchParams.context.pivot_computed_measures ||
+                searchParams.computed_measures || [];
+        }
+        for (const cmDef of this._computed_measures) {
+            if (this._isMeasureEnabled(cmDef.id)) {
+                continue;
+            }
+            await this._createVirtualMeasure(cmDef);
+        }
+        const fieldNames = Object.keys(this.metaData.fields);
+        for (const fieldName of fieldNames) {
+            const field = this.metaData.fields[fieldName];
+            if (field.__computed_id) {
+                const cm = _.find(this._computed_measures, {
+                    id: field.__computed_id,
+                });
+                if (!cm) {
+                    delete this.metaData.fields[fieldName];
+                    delete this.metaData.measures[fieldName];
+                    this.metaData.activeMeasures = _.without(
+                        this.metaData.activeMeasures,
+                        fieldName
+                    );
+                    const config = {
+                        metaData: this.metaData,
+                        data: this.data
+                    };
+                    this._loadData(config).then(() => {
+                        this.notify();
+                    });
+                }
+            }
+        }
+        return _super(...arguments);
+    },
 });
```

## Comparing `odoo_addon_web_pivot_computed_measure-15.0.1.0.0.2.dist-info/METADATA` & `odoo_addon_web_pivot_computed_measure-15.0.1.0.1.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo-addon-web-pivot-computed-measure
-Version: 15.0.1.0.0.2
+Version: 15.0.1.0.1
 Summary: Web Pivot Computed Measure
 Home-page: https://github.com/OCA/web
 Author: Tecnativa, Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
```

## Comparing `odoo_addon_web_pivot_computed_measure-15.0.1.0.0.2.dist-info/RECORD` & `odoo_addon_web_pivot_computed_measure-15.0.1.0.1.dist-info/RECORD`

 * *Files 4% similar despite different names*

```diff
@@ -1,26 +1,27 @@
 odoo/addons/web_pivot_computed_measure/README.rst,sha256=NKCcTYQzJ21pOLcectEba_FkbHNykW_ZXjlY81bPoUY,3904
 odoo/addons/web_pivot_computed_measure/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-odoo/addons/web_pivot_computed_measure/__manifest__.py,sha256=MgOcfNZi3aZ0Pl2aoIZotWL8_M-Av12iCMmKZ5U0iX0,909
+odoo/addons/web_pivot_computed_measure/__manifest__.py,sha256=cdYV08s2W2nwDvbo0uSSUy64Hf3epa0wan4mcpb4rU4,909
 odoo/addons/web_pivot_computed_measure/i18n/ca.po,sha256=d9AAKtSHGHTKQUWOr1g89BcpcCtpks8r3ZAu28ba8N0,4522
 odoo/addons/web_pivot_computed_measure/i18n/es.po,sha256=CSVPbd2307I5fU4zJQEgaMoKerT5ZAMjGwmjH7YCRNc,5247
 odoo/addons/web_pivot_computed_measure/i18n/web_pivot_computed_measure.pot,sha256=yxeBtr0ekquLXBhXS8QUviFu7hhxVva5izoY9WVzdgY,4738
 odoo/addons/web_pivot_computed_measure/readme/CONTRIBUTORS.rst,sha256=QHhtpyAmUBh9ALpyqWHphh-XorCU9JTz2CY7cwGd0xU,123
 odoo/addons/web_pivot_computed_measure/readme/DESCRIPTION.rst,sha256=BalS9ztUeU9LYwy8YMdeLbV7e69eEeJOJhk8zikeDWg,54
 odoo/addons/web_pivot_computed_measure/readme/ROADMAP.rst,sha256=a23OHwe8RxedRdrSYWf1Y0yRzKQSDPoUbPjfI3yJXGI,128
 odoo/addons/web_pivot_computed_measure/readme/USAGE.rst,sha256=ia83Y8uqg0GMEXtnooCwNZKBXKOh8L1m1gwIau-BxJY,1017
 odoo/addons/web_pivot_computed_measure/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
 odoo/addons/web_pivot_computed_measure/static/description/index.html,sha256=tzNo0mGij002N9Giy-TZdTnqlHxMuAgKHETQxZRfjQM,13804
 odoo/addons/web_pivot_computed_measure/static/src/view.xml,sha256=LcebmtDVWuf-mcv-pdDhUHl1Auoj9x2iGVw2Fg6Sm3I,1202
 odoo/addons/web_pivot_computed_measure/static/src/dropdown_item_custom_measure/dropdown_item_custom_measure.esm.js,sha256=_M4ORIopfxuwXaGb7CLot0l5QvVcCBfqALDASYbO860,1803
 odoo/addons/web_pivot_computed_measure/static/src/dropdown_item_custom_measure/dropdown_item_custom_measure.scss,sha256=qvWpg9OjokjfHG6swMb60bylnkzg4tjdd6iExve8a44,184
 odoo/addons/web_pivot_computed_measure/static/src/dropdown_item_custom_measure/dropdown_item_custom_measure.xml,sha256=bwEd7aSuk-yIn5MPqDfRkOKLPkSpbr2ukvzxywr_UEc,6908
-odoo/addons/web_pivot_computed_measure/static/src/pivot/pivot_model.esm.js,sha256=tCheeaWzw2jYGOJzMa7SRHm1LPUeYax6d-GvMcGxvfg,8364
+odoo/addons/web_pivot_computed_measure/static/src/pivot/pivot_model.esm.js,sha256=H6PIQsmp6t_qb3Okz_qArVPe4JejiAjLRn6Oaubsu_0,9913
+odoo/addons/web_pivot_computed_measure/static/src/pivot/pivot_view.esm.js,sha256=jdcVhjxSr4ry3P5RwZW_EUvJ-gcRjxL__Cumchgu2lI,608
 odoo/addons/web_pivot_computed_measure/static/src/pivot/pivot_view.xml,sha256=ZxzWNv4Xup0lYrbksUX4l2anNdYQe0a5vOiTyY7_9a4,359
 odoo/addons/web_pivot_computed_measure/static/src/test/test.esm.js,sha256=vcFRUGD_8ulr28f2TujEfLLgoXp7MeE9glca2WFHssc,1823
 odoo/addons/web_pivot_computed_measure/tests/__init__.py,sha256=Xcfmk0TDcmuxJB3JKaVclhXLdCwOh7hmtOiqORLAgwI,28
 odoo/addons/web_pivot_computed_measure/tests/res_users_fake.py,sha256=97P14ZKaoIJGMmMc0En-OHKo8esuYR8z7dqc5Ft0hL4,282
 odoo/addons/web_pivot_computed_measure/tests/test_ui_pivot.py,sha256=zE3CmIUVPRM1t6-hcRrEamUnxMFvPTSW0-mmk9-d6Qo,1108
-odoo_addon_web_pivot_computed_measure-15.0.1.0.0.2.dist-info/METADATA,sha256=NYlEcCwjKsvSSrhUvZ7QIYaUJgHRf1UOTix3iu2H_RI,4445
-odoo_addon_web_pivot_computed_measure-15.0.1.0.0.2.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
-odoo_addon_web_pivot_computed_measure-15.0.1.0.0.2.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo_addon_web_pivot_computed_measure-15.0.1.0.0.2.dist-info/RECORD,,
+odoo_addon_web_pivot_computed_measure-15.0.1.0.1.dist-info/METADATA,sha256=Ywk8lu2V7uYZwkrxCxBZhhtL-n5ZseY3rh9ZL6HCcDo,4443
+odoo_addon_web_pivot_computed_measure-15.0.1.0.1.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
+odoo_addon_web_pivot_computed_measure-15.0.1.0.1.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo_addon_web_pivot_computed_measure-15.0.1.0.1.dist-info/RECORD,,
```

