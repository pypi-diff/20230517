# Comparing `tmp/bingbong-0.1.9-py3-none-any.whl.zip` & `tmp/bingbong-0.2.1-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,18 +1,26 @@
-Zip file size: 11745 bytes, number of entries: 16
--rw-r--r--  2.0 unx       53 b- defN 23-Apr-20 15:06 pingpong/__init__.py
--rw-r--r--  2.0 unx      959 b- defN 23-Apr-20 15:04 pingpong/alpaca.py
--rw-r--r--  2.0 unx     1287 b- defN 23-Apr-20 14:58 pingpong/dolly.py
--rw-r--r--  2.0 unx     1399 b- defN 23-Apr-20 14:58 pingpong/gradio.py
--rw-r--r--  2.0 unx     1212 b- defN 23-Apr-20 14:58 pingpong/pingpong.py
--rw-r--r--  2.0 unx     1496 b- defN 23-Apr-20 14:58 pingpong/stablelm.py
--rw-r--r--  2.0 unx      173 b- defN 23-Apr-20 14:58 pingpong/context/__init__.py
--rw-r--r--  2.0 unx      589 b- defN 23-Apr-20 14:58 pingpong/context/auto_summary_strategy.py
--rw-r--r--  2.0 unx      789 b- defN 23-Apr-20 14:58 pingpong/context/last_window_strategy.py
--rw-r--r--  2.0 unx      840 b- defN 23-Apr-20 14:58 pingpong/context/search_window_strategy.py
--rw-r--r--  2.0 unx      119 b- defN 23-Apr-20 14:58 pingpong/context/strategy.py
--rw-r--r--  2.0 unx    11357 b- defN 23-Apr-20 15:07 bingbong-0.1.9.dist-info/LICENSE
--rw-r--r--  2.0 unx     3346 b- defN 23-Apr-20 15:07 bingbong-0.1.9.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Apr-20 15:07 bingbong-0.1.9.dist-info/WHEEL
--rw-r--r--  2.0 unx        9 b- defN 23-Apr-20 15:07 bingbong-0.1.9.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     1302 b- defN 23-Apr-20 15:07 bingbong-0.1.9.dist-info/RECORD
-16 files, 25022 bytes uncompressed, 9595 bytes compressed:  61.7%
+Zip file size: 16244 bytes, number of entries: 24
+-rw-rw-rw-  2.0 unx       54 b- defN 23-May-17 13:59 pingpong/__init__.py
+-rw-rw-rw-  2.0 unx      961 b- defN 23-May-04 13:13 pingpong/alpaca.py
+-rw-rw-rw-  2.0 unx     1287 b- defN 23-May-04 13:13 pingpong/dolly.py
+-rw-rw-rw-  2.0 unx      957 b- defN 23-May-04 13:13 pingpong/flan.py
+-rw-rw-rw-  2.0 unx     4719 b- defN 23-May-17 13:58 pingpong/gradio.py
+-rw-rw-rw-  2.0 unx      958 b- defN 23-May-04 13:13 pingpong/koalpaca.py
+-rw-rw-rw-  2.0 unx      983 b- defN 23-May-17 13:58 pingpong/mpt.py
+-rw-rw-rw-  2.0 unx      940 b- defN 23-May-04 13:13 pingpong/os_stablelm.py
+-rw-rw-rw-  2.0 unx     1696 b- defN 23-May-17 14:03 pingpong/pingpong.py
+-rw-rw-rw-  2.0 unx      965 b- defN 23-May-17 13:58 pingpong/redpajama.py
+-rw-rw-rw-  2.0 unx      940 b- defN 23-May-04 13:14 pingpong/stable_vicuna.py
+-rw-rw-rw-  2.0 unx      917 b- defN 23-May-04 13:13 pingpong/stablelm.py
+-rw-rw-rw-  2.0 unx      963 b- defN 23-May-17 13:58 pingpong/starchat.py
+-rw-rw-rw-  2.0 unx     1091 b- defN 23-May-04 13:13 pingpong/vicuna.py
+-rw-rw-rw-  2.0 unx      173 b- defN 23-May-04 13:13 pingpong/context/__init__.py
+-rw-rw-rw-  2.0 unx      589 b- defN 23-May-04 13:13 pingpong/context/auto_summary_strategy.py
+-rw-rw-rw-  2.0 unx      789 b- defN 23-May-04 13:13 pingpong/context/last_window_strategy.py
+-rw-rw-rw-  2.0 unx      840 b- defN 23-May-04 13:13 pingpong/context/search_window_strategy.py
+-rw-rw-rw-  2.0 unx      119 b- defN 23-May-04 13:13 pingpong/context/strategy.py
+-rw-rw-rw-  2.0 unx    11357 b- defN 23-May-17 14:03 bingbong-0.2.1.dist-info/LICENSE
+-rw-rw-rw-  2.0 unx     3346 b- defN 23-May-17 14:03 bingbong-0.2.1.dist-info/METADATA
+-rw-rw-rw-  2.0 unx       92 b- defN 23-May-17 14:03 bingbong-0.2.1.dist-info/WHEEL
+-rw-rw-rw-  2.0 unx        9 b- defN 23-May-17 14:03 bingbong-0.2.1.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     1908 b- defN 23-May-17 14:03 bingbong-0.2.1.dist-info/RECORD
+24 files, 36653 bytes uncompressed, 13170 bytes compressed:  64.1%
```

## zipnote {}

```diff
@@ -3,23 +3,47 @@
 
 Filename: pingpong/alpaca.py
 Comment: 
 
 Filename: pingpong/dolly.py
 Comment: 
 
+Filename: pingpong/flan.py
+Comment: 
+
 Filename: pingpong/gradio.py
 Comment: 
 
+Filename: pingpong/koalpaca.py
+Comment: 
+
+Filename: pingpong/mpt.py
+Comment: 
+
+Filename: pingpong/os_stablelm.py
+Comment: 
+
 Filename: pingpong/pingpong.py
 Comment: 
 
+Filename: pingpong/redpajama.py
+Comment: 
+
+Filename: pingpong/stable_vicuna.py
+Comment: 
+
 Filename: pingpong/stablelm.py
 Comment: 
 
+Filename: pingpong/starchat.py
+Comment: 
+
+Filename: pingpong/vicuna.py
+Comment: 
+
 Filename: pingpong/context/__init__.py
 Comment: 
 
 Filename: pingpong/context/auto_summary_strategy.py
 Comment: 
 
 Filename: pingpong/context/last_window_strategy.py
@@ -27,23 +51,23 @@
 
 Filename: pingpong/context/search_window_strategy.py
 Comment: 
 
 Filename: pingpong/context/strategy.py
 Comment: 
 
-Filename: bingbong-0.1.9.dist-info/LICENSE
+Filename: bingbong-0.2.1.dist-info/LICENSE
 Comment: 
 
-Filename: bingbong-0.1.9.dist-info/METADATA
+Filename: bingbong-0.2.1.dist-info/METADATA
 Comment: 
 
-Filename: bingbong-0.1.9.dist-info/WHEEL
+Filename: bingbong-0.2.1.dist-info/WHEEL
 Comment: 
 
-Filename: bingbong-0.1.9.dist-info/top_level.txt
+Filename: bingbong-0.2.1.dist-info/top_level.txt
 Comment: 
 
-Filename: bingbong-0.1.9.dist-info/RECORD
+Filename: bingbong-0.2.1.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## pingpong/__init__.py

```diff
@@ -1,3 +1,3 @@
-__version__ = '0.1.9'
+__version__ = '0.2.1'
 
-from .pingpong import PingPong
+from .pingpong import PingPong
```

## pingpong/alpaca.py

```diff
@@ -30,8 +30,9 @@
       results += fmt.prompt(pingpong, truncate_size=truncate_size)
 
       if from_idx+idx != to_idx-1:
         results += """
 
 """
 
-    return results
+    return results
+
```

## pingpong/gradio.py

```diff
@@ -1,11 +1,19 @@
 from pingpong.pingpong import PromptFmt, UIFmt
 from pingpong.alpaca import AlpacaChatPPManager
+from pingpong.koalpaca import KoAlpacaChatPPManager
 from pingpong.dolly import DollyChatPPManager
 from pingpong.stablelm import StableLMChatPPManager
+from pingpong.flan import FlanAlpacaChatPPManager
+from pingpong.os_stablelm import OSStableLMChatPPManager
+from pingpong.vicuna import VicunaChatPPManager
+from pingpong.stable_vicuna import StableVicunaChatPPManager
+from pingpong.starchat import StarChatPPManager
+from pingpong.mpt import MPTChatPPManager
+from pingpong.redpajama import RedPajamaChatPPManager
 
 class GradioChatUIFmt(UIFmt):
   @classmethod
   def ui(cls, pingpong):
     return (pingpong.ping, pingpong.pong)
 
 class GradioAlpacaChatPPManager(AlpacaChatPPManager):
@@ -39,7 +47,103 @@
 
       results = []
 
       for pingpong in self.pingpongs[from_idx:to_idx]:
         results.append(fmt.ui(pingpong))
 
       return results
+
+class GradioKoAlpacaChatPPManager(KoAlpacaChatPPManager):
+  def build_uis(self, from_idx: int=0, to_idx: int=-1, fmt: UIFmt=GradioChatUIFmt):
+    if to_idx == -1 or to_idx >= len(self.pingpongs):
+      to_idx = len(self.pingpongs)
+
+    results = []
+
+    for pingpong in self.pingpongs[from_idx:to_idx]:
+      results.append(fmt.ui(pingpong))
+
+    return results
+
+class GradioFlanAlpacaChatPPManager(FlanAlpacaChatPPManager):
+  def build_uis(self, from_idx: int=0, to_idx: int=-1, fmt: UIFmt=GradioChatUIFmt):
+    if to_idx == -1 or to_idx >= len(self.pingpongs):
+      to_idx = len(self.pingpongs)
+
+    results = []
+
+    for pingpong in self.pingpongs[from_idx:to_idx]:
+      results.append(fmt.ui(pingpong))
+
+    return results
+
+class GradioOSStableLMChatPPManager(OSStableLMChatPPManager):
+  def build_uis(self, from_idx: int=0, to_idx: int=-1, fmt: UIFmt=GradioChatUIFmt):
+    if to_idx == -1 or to_idx >= len(self.pingpongs):
+      to_idx = len(self.pingpongs)
+
+    results = []
+
+    for pingpong in self.pingpongs[from_idx:to_idx]:
+      results.append(fmt.ui(pingpong))
+
+    return results
+
+class GradioVicunaChatPPManager(VicunaChatPPManager):
+  def build_uis(self, from_idx: int=0, to_idx: int=-1, fmt: UIFmt=GradioChatUIFmt):
+    if to_idx == -1 or to_idx >= len(self.pingpongs):
+      to_idx = len(self.pingpongs)
+
+    results = []
+
+    for pingpong in self.pingpongs[from_idx:to_idx]:
+      results.append(fmt.ui(pingpong))
+
+    return results
+  
+class GradioStableVicunaChatPPManager(StableVicunaChatPPManager):
+  def build_uis(self, from_idx: int=0, to_idx: int=-1, fmt: UIFmt=GradioChatUIFmt):
+    if to_idx == -1 or to_idx >= len(self.pingpongs):
+      to_idx = len(self.pingpongs)
+
+    results = []
+
+    for pingpong in self.pingpongs[from_idx:to_idx]:
+      results.append(fmt.ui(pingpong))
+
+    return results  
+
+class GradioStarChatPPManager(StarChatPPManager):
+  def build_uis(self, from_idx: int=0, to_idx: int=-1, fmt: UIFmt=GradioChatUIFmt):
+    if to_idx == -1 or to_idx >= len(self.pingpongs):
+      to_idx = len(self.pingpongs)
+
+    results = []
+
+    for pingpong in self.pingpongs[from_idx:to_idx]:
+      results.append(fmt.ui(pingpong))
+
+    return results
+  
+class GradioMPTChatPPManager(MPTChatPPManager):
+  def build_uis(self, from_idx: int=0, to_idx: int=-1, fmt: UIFmt=GradioChatUIFmt):
+    if to_idx == -1 or to_idx >= len(self.pingpongs):
+      to_idx = len(self.pingpongs)
+
+    results = []
+
+    for pingpong in self.pingpongs[from_idx:to_idx]:
+      results.append(fmt.ui(pingpong))
+
+    return results
+  
+class GradioRedPajamaChatPPManager(RedPajamaChatPPManager):
+  def build_uis(self, from_idx: int=0, to_idx: int=-1, fmt: UIFmt=GradioChatUIFmt):
+    if to_idx == -1 or to_idx >= len(self.pingpongs):
+      to_idx = len(self.pingpongs)
+
+    results = []
+
+    for pingpong in self.pingpongs[from_idx:to_idx]:
+      results.append(fmt.ui(pingpong))
+
+    return results
```

## pingpong/pingpong.py

```diff
@@ -1,14 +1,20 @@
+import json
+
 class PingPong:
   def __init__(self, ping, pong):
     self.ping = ping
     self.pong = pong
 
   def __repr__(self):
-    return f"ping: {self.ping}, pong: {self.pong}"
+    return json.dumps(self, default=lambda o: o.__dict__)
+
+  @classmethod
+  def from_json(cls, json_dict):
+    return PingPong(json_dict['ping'], json_dict['pong'])
 
 class PromptFmt:
   @classmethod
   def ctx(cls, context):
     pass
 
   @classmethod
@@ -48,8 +54,20 @@
     return self.pingpongs.pop()
 
   def build_prompts(self, from_idx: int, to_idx: int, fmt: PromptFmt, truncate_size: int):
     pass
 
   def build_uis(self, from_idx: int, to_idx: int, fmt: UIFmt):
     pass
+
+  def __repr__(self):
+    return json.dumps(self, default=lambda o: o.__dict__)
+
+  @classmethod
+  def from_json(cls, json_str):
+    json_dict = json.loads(json_str)
+
+    new_instance = cls()
+    new_instance.ctx = json_dict['ctx']
+    new_instance.pingpongs = [PingPong.from_json(pingpong) for pingpong in json_dict['pingpongs']]
+    return new_instance
```

## pingpong/stablelm.py

```diff
@@ -1,37 +1,30 @@
 from pingpong.pingpong import PPManager
 from pingpong.pingpong import PromptFmt
 
 class StableLMPromptFmt(PromptFmt):
   @classmethod
+  def ctx(cls, context):
+    if context is None or context == "":
+      return ""
+    else:
+      return f"""{context}
+
+"""
+
+  @classmethod
   def prompt(cls, pingpong, truncate_size):
     ping = pingpong.ping[:truncate_size]
     pong = "" if pingpong.pong is None else pingpong.pong[:truncate_size]
     return f"<|USER|>{ping}<|ASSISTANT|>{pong}"
 
 class StableLMChatPPManager(PPManager):
-  def add_ping(self, ping, fmt: PromptFmt=StableLMPromptFmt):
-    allowed = super().add_ping(ping, fmt)
-
-    if allowed:
-      system_prompt = """<|SYSTEM|># StableLM Tuned (Alpha version)
-- StableLM is a helpful and harmless open-source AI language model developed by StabilityAI.
-- StableLM is excited to be able to help the user, but will refuse to do anything that could be considered harmful to the user.
-- StableLM is more than just an information source, StableLM is also able to write poetry, short stories, and make jokes.
-- StableLM will refuse to participate in anything that could harm a human.
-"""      
-      prompts = system_prompt
-      prompts += f"<|USER|>{ping}<|ASSISTANT|>"
-      return prompts
-
-    return None
-
   def build_prompts(self, from_idx: int=0, to_idx: int=-1, fmt: PromptFmt=StableLMPromptFmt, truncate_size: int=None):
     if to_idx == -1 or to_idx >= len(self.pingpongs):
       to_idx = len(self.pingpongs)
 
-    results = ""
+    results = fmt.ctx(self.ctx)
 
     for idx, pingpong in enumerate(self.pingpongs[from_idx:to_idx]):
       results += fmt.prompt(pingpong, truncate_size=truncate_size)
 
     return results
```

## Comparing `bingbong-0.1.9.dist-info/LICENSE` & `bingbong-0.2.1.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `bingbong-0.1.9.dist-info/METADATA` & `bingbong-0.2.1.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: bingbong
-Version: 0.1.9
+Version: 0.2.1
 Summary: Ping pong management library for LLM applied application
 Home-page: https://github.com/deep-diver/PingPong
 Author: chansung park
 Author-email: deep.diver.csp@gmail.com
 Keywords: LLM,pingpong,prompt,context,management
 Classifier: License :: OSI Approved :: Apache Software License
 Classifier: Programming Language :: Python :: 3.8
```

