# Comparing `tmp/seed_farmer-2.6.5-py3-none-any.whl.zip` & `tmp/seed_farmer-2.7.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,53 +1,54 @@
-Zip file size: 82572 bytes, number of entries: 51
--rw-r--r--  2.0 unx     5288 b- defN 23-May-03 19:14 seedfarmer/__init__.py
--rw-r--r--  2.0 unx     6509 b- defN 23-May-03 19:14 seedfarmer/__main__.py
--rw-r--r--  2.0 unx      829 b- defN 23-May-03 19:14 seedfarmer/__metadata__.py
--rw-r--r--  2.0 unx     5296 b- defN 23-May-03 19:14 seedfarmer/checksum.py
--rw-r--r--  2.0 unx     6695 b- defN 23-May-03 19:14 seedfarmer/output_utils.py
--rw-r--r--  2.0 unx     3768 b- defN 23-May-03 19:14 seedfarmer/utils.py
--rw-r--r--  2.0 unx     1055 b- defN 23-May-03 19:14 seedfarmer/cli_groups/__init__.py
--rw-r--r--  2.0 unx     5235 b- defN 23-May-03 19:14 seedfarmer/cli_groups/_bootstrap_group.py
--rw-r--r--  2.0 unx     2515 b- defN 23-May-03 19:14 seedfarmer/cli_groups/_init_group.py
--rw-r--r--  2.0 unx    15799 b- defN 23-May-03 19:14 seedfarmer/cli_groups/_list_group.py
--rw-r--r--  2.0 unx     1353 b- defN 23-May-03 19:14 seedfarmer/cli_groups/_project_group.py
--rw-r--r--  2.0 unx     3841 b- defN 23-May-03 19:14 seedfarmer/cli_groups/_remove_group.py
--rw-r--r--  2.0 unx     9482 b- defN 23-May-03 19:14 seedfarmer/cli_groups/_store_group.py
--rw-r--r--  2.0 unx     1789 b- defN 23-May-03 19:14 seedfarmer/commands/__init__.py
--rw-r--r--  2.0 unx     7159 b- defN 23-May-03 19:14 seedfarmer/commands/_bootstrap_commands.py
--rw-r--r--  2.0 unx    34783 b- defN 23-May-03 19:14 seedfarmer/commands/_deployment_commands.py
--rw-r--r--  2.0 unx    14911 b- defN 23-May-03 19:14 seedfarmer/commands/_module_commands.py
--rw-r--r--  2.0 unx     6318 b- defN 23-May-03 19:14 seedfarmer/commands/_parameter_commands.py
--rw-r--r--  2.0 unx      913 b- defN 23-May-03 19:14 seedfarmer/commands/_project_policy_commands.py
--rw-r--r--  2.0 unx    16802 b- defN 23-May-03 19:14 seedfarmer/commands/_stack_commands.py
--rw-r--r--  2.0 unx      643 b- defN 23-May-03 19:14 seedfarmer/mgmt/__init__.py
--rw-r--r--  2.0 unx     1583 b- defN 23-May-03 19:14 seedfarmer/mgmt/build_info.py
--rw-r--r--  2.0 unx    24249 b- defN 23-May-03 19:14 seedfarmer/mgmt/deploy_utils.py
--rw-r--r--  2.0 unx    26787 b- defN 23-May-03 19:14 seedfarmer/mgmt/module_info.py
--rw-r--r--  2.0 unx     3596 b- defN 23-May-03 19:14 seedfarmer/mgmt/module_init.py
--rw-r--r--  2.0 unx     1085 b- defN 23-May-03 19:14 seedfarmer/models/__init__.py
--rw-r--r--  2.0 unx     1403 b- defN 23-May-03 19:14 seedfarmer/models/_base.py
--rw-r--r--  2.0 unx     2563 b- defN 23-May-03 19:14 seedfarmer/models/_deploy_spec.py
--rw-r--r--  2.0 unx     1037 b- defN 23-May-03 19:14 seedfarmer/models/_project_spec.py
--rw-r--r--  2.0 unx     2060 b- defN 23-May-03 19:14 seedfarmer/models/deploy_responses.py
--rw-r--r--  2.0 unx     1154 b- defN 23-May-03 19:14 seedfarmer/models/manifests/__init__.py
--rw-r--r--  2.0 unx    14869 b- defN 23-May-03 19:14 seedfarmer/models/manifests/_deployment_manifest.py
--rw-r--r--  2.0 unx     3235 b- defN 23-May-03 19:14 seedfarmer/models/manifests/_module_manifest.py
--rw-rw-r--  2.0 unx     5552 b- defN 23-May-03 19:14 seedfarmer/resources/deployment_role.template
--rw-rw-r--  2.0 unx     2549 b- defN 23-May-03 19:14 seedfarmer/resources/projectpolicy.yaml
--rw-rw-r--  2.0 unx     1400 b- defN 23-May-03 19:14 seedfarmer/resources/toolchain_role.template
--rw-r--r--  2.0 unx     1040 b- defN 23-May-03 19:14 seedfarmer/services/__init__.py
--rw-r--r--  2.0 unx     1255 b- defN 23-May-03 19:14 seedfarmer/services/_codebuild.py
--rw-r--r--  2.0 unx     5160 b- defN 23-May-03 19:14 seedfarmer/services/_iam.py
--rw-r--r--  2.0 unx     1705 b- defN 23-May-03 19:14 seedfarmer/services/_secrets_manager.py
--rw-r--r--  2.0 unx     4191 b- defN 23-May-03 19:14 seedfarmer/services/_service_utils.py
--rw-r--r--  2.0 unx     5801 b- defN 23-May-03 19:14 seedfarmer/services/_ssm.py
--rw-r--r--  2.0 unx     7362 b- defN 23-May-03 19:14 seedfarmer/services/session_manager.py
--rw-rw-r--  2.0 unx    10174 b- defN 23-May-03 19:29 seed_farmer-2.6.5.dist-info/LICENSE
--rw-r--r--  2.0 unx     3054 b- defN 23-May-03 19:29 seed_farmer-2.6.5.dist-info/METADATA
--rw-rw-r--  2.0 unx       67 b- defN 23-May-03 19:29 seed_farmer-2.6.5.dist-info/NOTICE
--rw-rw-r--  2.0 unx        5 b- defN 23-May-03 19:29 seed_farmer-2.6.5.dist-info/VERSION
--rw-r--r--  2.0 unx       92 b- defN 23-May-03 19:29 seed_farmer-2.6.5.dist-info/WHEEL
--rw-r--r--  2.0 unx       57 b- defN 23-May-03 19:29 seed_farmer-2.6.5.dist-info/entry_points.txt
--rw-r--r--  2.0 unx       11 b- defN 23-May-03 19:29 seed_farmer-2.6.5.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     4621 b- defN 23-May-03 19:29 seed_farmer-2.6.5.dist-info/RECORD
-51 files, 288700 bytes uncompressed, 75126 bytes compressed:  74.0%
+Zip file size: 84179 bytes, number of entries: 52
+-rw-r--r--  2.0 unx     5288 b- defN 23-May-16 23:54 seedfarmer/__init__.py
+-rw-r--r--  2.0 unx     6509 b- defN 23-May-16 23:54 seedfarmer/__main__.py
+-rw-r--r--  2.0 unx      829 b- defN 23-May-16 23:54 seedfarmer/__metadata__.py
+-rw-r--r--  2.0 unx     5296 b- defN 23-May-16 23:54 seedfarmer/checksum.py
+-rw-r--r--  2.0 unx     6695 b- defN 23-May-16 23:54 seedfarmer/output_utils.py
+-rw-r--r--  2.0 unx     3768 b- defN 23-May-16 23:54 seedfarmer/utils.py
+-rw-r--r--  2.0 unx     1055 b- defN 23-May-16 23:54 seedfarmer/cli_groups/__init__.py
+-rw-r--r--  2.0 unx     5235 b- defN 23-May-16 23:54 seedfarmer/cli_groups/_bootstrap_group.py
+-rw-r--r--  2.0 unx     2515 b- defN 23-May-16 23:54 seedfarmer/cli_groups/_init_group.py
+-rw-r--r--  2.0 unx    18318 b- defN 23-May-16 23:54 seedfarmer/cli_groups/_list_group.py
+-rw-r--r--  2.0 unx     1353 b- defN 23-May-16 23:54 seedfarmer/cli_groups/_project_group.py
+-rw-r--r--  2.0 unx     3841 b- defN 23-May-16 23:54 seedfarmer/cli_groups/_remove_group.py
+-rw-r--r--  2.0 unx     9482 b- defN 23-May-16 23:54 seedfarmer/cli_groups/_store_group.py
+-rw-r--r--  2.0 unx     1896 b- defN 23-May-16 23:54 seedfarmer/commands/__init__.py
+-rw-r--r--  2.0 unx     7159 b- defN 23-May-16 23:54 seedfarmer/commands/_bootstrap_commands.py
+-rw-r--r--  2.0 unx    35048 b- defN 23-May-16 23:54 seedfarmer/commands/_deployment_commands.py
+-rw-r--r--  2.0 unx    14911 b- defN 23-May-16 23:54 seedfarmer/commands/_module_commands.py
+-rw-r--r--  2.0 unx     4422 b- defN 23-May-16 23:54 seedfarmer/commands/_network_parameter_commands.py
+-rw-r--r--  2.0 unx     6318 b- defN 23-May-16 23:54 seedfarmer/commands/_parameter_commands.py
+-rw-r--r--  2.0 unx      913 b- defN 23-May-16 23:54 seedfarmer/commands/_project_policy_commands.py
+-rw-r--r--  2.0 unx    16802 b- defN 23-May-16 23:54 seedfarmer/commands/_stack_commands.py
+-rw-r--r--  2.0 unx      643 b- defN 23-May-16 23:54 seedfarmer/mgmt/__init__.py
+-rw-r--r--  2.0 unx     1583 b- defN 23-May-16 23:54 seedfarmer/mgmt/build_info.py
+-rw-r--r--  2.0 unx    24267 b- defN 23-May-16 23:54 seedfarmer/mgmt/deploy_utils.py
+-rw-r--r--  2.0 unx    26787 b- defN 23-May-16 23:54 seedfarmer/mgmt/module_info.py
+-rw-r--r--  2.0 unx     3596 b- defN 23-May-16 23:54 seedfarmer/mgmt/module_init.py
+-rw-r--r--  2.0 unx     1085 b- defN 23-May-16 23:54 seedfarmer/models/__init__.py
+-rw-r--r--  2.0 unx     1403 b- defN 23-May-16 23:54 seedfarmer/models/_base.py
+-rw-r--r--  2.0 unx     2563 b- defN 23-May-16 23:54 seedfarmer/models/_deploy_spec.py
+-rw-r--r--  2.0 unx     1037 b- defN 23-May-16 23:54 seedfarmer/models/_project_spec.py
+-rw-r--r--  2.0 unx     2060 b- defN 23-May-16 23:54 seedfarmer/models/deploy_responses.py
+-rw-r--r--  2.0 unx     1154 b- defN 23-May-16 23:54 seedfarmer/models/manifests/__init__.py
+-rw-r--r--  2.0 unx    13425 b- defN 23-May-16 23:54 seedfarmer/models/manifests/_deployment_manifest.py
+-rw-r--r--  2.0 unx     3235 b- defN 23-May-16 23:54 seedfarmer/models/manifests/_module_manifest.py
+-rw-rw-r--  2.0 unx     5552 b- defN 23-May-16 23:54 seedfarmer/resources/deployment_role.template
+-rw-rw-r--  2.0 unx     2549 b- defN 23-May-16 23:54 seedfarmer/resources/projectpolicy.yaml
+-rw-rw-r--  2.0 unx     1400 b- defN 23-May-16 23:54 seedfarmer/resources/toolchain_role.template
+-rw-r--r--  2.0 unx     1040 b- defN 23-May-16 23:54 seedfarmer/services/__init__.py
+-rw-r--r--  2.0 unx     1255 b- defN 23-May-16 23:54 seedfarmer/services/_codebuild.py
+-rw-r--r--  2.0 unx     5160 b- defN 23-May-16 23:54 seedfarmer/services/_iam.py
+-rw-r--r--  2.0 unx     1705 b- defN 23-May-16 23:54 seedfarmer/services/_secrets_manager.py
+-rw-r--r--  2.0 unx     4486 b- defN 23-May-16 23:54 seedfarmer/services/_service_utils.py
+-rw-r--r--  2.0 unx     5801 b- defN 23-May-16 23:54 seedfarmer/services/_ssm.py
+-rw-r--r--  2.0 unx     7362 b- defN 23-May-16 23:54 seedfarmer/services/session_manager.py
+-rw-rw-r--  2.0 unx    10174 b- defN 23-May-17 00:22 seed_farmer-2.7.0.dist-info/LICENSE
+-rw-r--r--  2.0 unx     3060 b- defN 23-May-17 00:22 seed_farmer-2.7.0.dist-info/METADATA
+-rw-rw-r--  2.0 unx       67 b- defN 23-May-17 00:22 seed_farmer-2.7.0.dist-info/NOTICE
+-rw-rw-r--  2.0 unx        6 b- defN 23-May-17 00:22 seed_farmer-2.7.0.dist-info/VERSION
+-rw-r--r--  2.0 unx       92 b- defN 23-May-17 00:22 seed_farmer-2.7.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx       57 b- defN 23-May-17 00:22 seed_farmer-2.7.0.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx       11 b- defN 23-May-17 00:22 seed_farmer-2.7.0.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     4728 b- defN 23-May-17 00:22 seed_farmer-2.7.0.dist-info/RECORD
+52 files, 294996 bytes uncompressed, 76557 bytes compressed:  74.0%
```

## zipnote {}

```diff
@@ -45,14 +45,17 @@
 
 Filename: seedfarmer/commands/_deployment_commands.py
 Comment: 
 
 Filename: seedfarmer/commands/_module_commands.py
 Comment: 
 
+Filename: seedfarmer/commands/_network_parameter_commands.py
+Comment: 
+
 Filename: seedfarmer/commands/_parameter_commands.py
 Comment: 
 
 Filename: seedfarmer/commands/_project_policy_commands.py
 Comment: 
 
 Filename: seedfarmer/commands/_stack_commands.py
@@ -123,32 +126,32 @@
 
 Filename: seedfarmer/services/_ssm.py
 Comment: 
 
 Filename: seedfarmer/services/session_manager.py
 Comment: 
 
-Filename: seed_farmer-2.6.5.dist-info/LICENSE
+Filename: seed_farmer-2.7.0.dist-info/LICENSE
 Comment: 
 
-Filename: seed_farmer-2.6.5.dist-info/METADATA
+Filename: seed_farmer-2.7.0.dist-info/METADATA
 Comment: 
 
-Filename: seed_farmer-2.6.5.dist-info/NOTICE
+Filename: seed_farmer-2.7.0.dist-info/NOTICE
 Comment: 
 
-Filename: seed_farmer-2.6.5.dist-info/VERSION
+Filename: seed_farmer-2.7.0.dist-info/VERSION
 Comment: 
 
-Filename: seed_farmer-2.6.5.dist-info/WHEEL
+Filename: seed_farmer-2.7.0.dist-info/WHEEL
 Comment: 
 
-Filename: seed_farmer-2.6.5.dist-info/entry_points.txt
+Filename: seed_farmer-2.7.0.dist-info/entry_points.txt
 Comment: 
 
-Filename: seed_farmer-2.6.5.dist-info/top_level.txt
+Filename: seed_farmer-2.7.0.dist-info/top_level.txt
 Comment: 
 
-Filename: seed_farmer-2.6.5.dist-info/RECORD
+Filename: seed_farmer-2.7.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## seedfarmer/cli_groups/_list_group.py

```diff
@@ -42,18 +42,21 @@
         _logger.info("No --project provided, attempting load from seedfarmer.yaml")
         return config.PROJECT
     except FileNotFoundError:
         print_bolded("Unable to determine project to bootstrap, one of --project or a seedfarmer.yaml is required")
         raise click.ClickException("Failed to determine project identifier")
 
 
-def _error_messaging(deployment: str, group: str, module: str) -> None:
-    print(f"No module data found for {deployment}-{group}-{module}")
+def _error_messaging(deployment: str, group: Optional[str] = None, module: Optional[str] = None) -> None:
+    if group and module:
+        print(f"No module data found for {deployment}-{group}-{module}")
+        print_bolded(f"To see all deployed modules in {deployment}, run seedfarmer list modules -d {deployment}")
+    else:
+        print(f"No module data found for {deployment}")
     print_bolded("To see all deployments, run seedfarmer list deployments")
-    print_bolded(f"To see all deployed modules in {deployment}, run seedfarmer list modules -d {deployment}")
 
 
 @click.group(name="list", help="List the relative data (module or deployment)")
 def list() -> None:
     """List module data"""
     pass
 
@@ -340,14 +343,98 @@
             for exp in envs:
                 sys.stdout.write(exp)
                 sys.stdout.write("\n")
         else:
             _error_messaging(deployment, group, module)
 
 
+@list.command(name="allmoduledata", help="Fetch ALL module metadata in the deployment as a dict")
+@click.option(
+    "--deployment",
+    "-d",
+    type=str,
+    help="The Deployment Name",
+    required=True,
+)
+@click.option(
+    "--project",
+    "-p",
+    help="Project identifier",
+    required=False,
+    default=None,
+)
+@click.option(
+    "--profile",
+    default=None,
+    help="The AWS profile to use for boto3.Sessions",
+    required=False,
+)
+@click.option(
+    "--region",
+    default=None,
+    help="The AWS region of the toolchain",
+    required=False,
+)
+@click.option(
+    "--env-file",
+    default=".env",
+    help="A relative path to the .env file to load environment variables from",
+    required=False,
+)
+@click.option(
+    "--debug/--no-debug",
+    default=False,
+    help="Enable detailed logging.",
+    show_default=True,
+)
+def list_all_module_metadata(
+    deployment: str,
+    project: Optional[str],
+    profile: Optional[str],
+    region: Optional[str],
+    env_file: str,
+    debug: bool,
+) -> None:
+    if debug:
+        enable_debug(format=DEBUG_LOGGING_FORMAT)
+    _logger.debug("We are getting all module data for  %s", deployment)
+
+    if project is None:
+        project = _load_project()
+    load_dotenv(dotenv_path=os.path.join(config.OPS_ROOT, env_file), verbose=True, override=True)
+
+    session = SessionManager().get_or_create(project_name=project, profile=profile, region_name=region)
+    dep_manifest = du.generate_deployed_manifest(deployment_name=deployment, skip_deploy_spec=True)
+
+    if dep_manifest is None:
+        _error_messaging(deployment)
+        return
+    dep_manifest.validate_and_set_module_defaults()
+    try:
+        all_metadata_json = {
+            f"{group.name}-{module.name}": mi.get_module_metadata(
+                deployment=deployment,
+                group=group.name,
+                module=module.name,
+                session=(
+                    session.get_deployment_session(
+                        account_id=module.get_target_account_id(),  # type: ignore
+                        region_name=module.target_region,  # type: ignore
+                    )
+                ),
+            )
+            for group in dep_manifest.groups
+            for module in group.modules
+        }
+        sys.stdout.write(json.dumps(all_metadata_json))
+    except Exception:
+        _error_messaging(deployment)
+        return
+
+
 @list.command(name="modules", help="List the modules in a deployment")
 @click.option(
     "--deployment",
     "-d",
     type=str,
     help="The Deployment Name",
     required=True,
```

## seedfarmer/commands/__init__.py

```diff
@@ -11,14 +11,15 @@
 #    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 #    See the License for the specific language governing permissions and
 #    limitations under the License.
 
 from seedfarmer.commands._bootstrap_commands import bootstrap_target_account, bootstrap_toolchain_account
 from seedfarmer.commands._deployment_commands import apply, destroy
 from seedfarmer.commands._module_commands import deploy_module, destroy_module
+from seedfarmer.commands._network_parameter_commands import load_network_values
 from seedfarmer.commands._parameter_commands import generate_export_env_params, generate_export_raw_env_params
 from seedfarmer.commands._project_policy_commands import get_default_project_policy
 from seedfarmer.commands._stack_commands import (
     deploy_managed_policy_stack,
     deploy_module_stack,
     deploy_seedkit,
     destroy_managed_policy_stack,
@@ -40,8 +41,9 @@
     "destroy_seedkit",
     "get_module_stack_info",
     "generate_export_env_params",
     "generate_export_raw_env_params",
     "bootstrap_toolchain_account",
     "bootstrap_target_account",
     "get_default_project_policy",
+    "load_network_values",
 ]
```

## seedfarmer/commands/_deployment_commands.py

```diff
@@ -34,15 +34,15 @@
     get_modulestack_path,
     remove_deployed_deployment_manifest,
     remove_deployment_manifest,
     write_deployment_manifest,
 )
 from seedfarmer.models import DeploySpec
 from seedfarmer.models.deploy_responses import ModuleDeploymentResponse, StatusType
-from seedfarmer.models.manifests import DataFile, DeploymentManifest, ModuleManifest, ModulesManifest
+from seedfarmer.models.manifests import DataFile, DeploymentManifest, ModuleManifest, ModulesManifest, NetworkMapping
 from seedfarmer.output_utils import (
     _print_modules,
     print_bolded,
     print_dependency_error_list,
     print_errored_modules,
     print_manifest_inventory,
     print_manifest_json,
@@ -120,15 +120,15 @@
             data_file.set_local_file_path(os.path.join(config.OPS_ROOT, data_file.file_path))
     missing_files = du.validate_data_files(data_files)
     if len(missing_files) > 0:
         print(f"The following data files cannot be fetched for module {group_name}-{module_name}:")
         for missing_file in missing_files:
             print(f"  {missing_file}")
         print_bolded(message="Exiting Deployment", color="red")
-        exit(1)
+        raise ValueError("Missing DataFiles - cannot process")
 
 
 def _execute_deploy(
     group_name: str,
     module_manifest: ModuleManifest,
     deployment_manifest: DeploymentManifest,
     docker_credentials_secret: Optional[str] = None,
@@ -253,20 +253,31 @@
             region=cast(str, module_manifest.target_region),
             docker_credentials_secret=docker_credentials_secret,
         )
 
     return resp
 
 
-def _deploy_deployment_is_not_dry_run(
+def _deploy_validated_deployment(
     deployment_manifest: DeploymentManifest,
     deployment_manifest_wip: DeploymentManifest,
     groups_to_deploy: List[ModulesManifest],
+    dryrun: bool,
 ) -> None:
     if groups_to_deploy:
+        if dryrun:
+            mods_would_deploy = [
+                (_module.target_account, _module.target_region, deployment_manifest.name, _group.name, _module.name)
+                for _group in groups_to_deploy
+                for _module in _group.modules
+            ]
+            _print_modules(
+                f"Modules scheduled to be deployed (created or updated): {deployment_manifest.name}", mods_would_deploy
+            )
+            return
         deployment_manifest_wip.groups = groups_to_deploy
         print_manifest_inventory(
             f"Modules scheduled to be deployed (created or updated): {deployment_manifest_wip.name}",
             deployment_manifest_wip,
             True,
         )
         if _logger.isEnabledFor(logging.DEBUG):
@@ -326,25 +337,14 @@
         print_manifest_inventory(f"Modules Deployed: {deployment_manifest_wip.name}", deployment_manifest_wip, False)
     else:
         _logger.info(" All modules in %s up to date", deployment_manifest_wip.name)
     # Write the deployment manifest once completed to preserve group order
     du.write_deployed_deployment_manifest(deployment_manifest=deployment_manifest)
 
 
-def _deploy_deployment_is_dry_run(groups_to_deploy: List[ModulesManifest], deployment_name: str) -> None:
-    mods_would_deploy = []
-    if groups_to_deploy:
-        for _group in groups_to_deploy:
-            for _module in _group.modules:
-                mods_would_deploy.append(
-                    [_module.target_account, _module.target_region, deployment_name, _group.name, _module.name]
-                )
-    _print_modules(f"Modules scheduled to be deployed (created or updated): {deployment_name}", mods_would_deploy)
-
-
 def prime_target_accounts(deployment_manifest: DeploymentManifest) -> None:
     # TODO: Investigate whether we need to validate the requested mappings against previously deployed mappings
 
     _logger.info("Priming Accounts")
     with concurrent.futures.ThreadPoolExecutor(max_workers=len(deployment_manifest.target_accounts_regions)) as workers:
 
         def _prime_accounts(args: Dict[str, Any]) -> None:
@@ -352,16 +352,21 @@
             commands.deploy_seedkit(**args)
             commands.deploy_managed_policy_stack(deployment_manifest=deployment_manifest, **args)
 
         params = []
         for target_account_region in deployment_manifest.target_accounts_regions:
 
             param_d = {"account_id": target_account_region["account_id"], "region": target_account_region["region"]}
-            if target_account_region["network"]:
-                network = target_account_region["network"]
+            if target_account_region["network"] is not None:
+                network = commands.load_network_values(
+                    cast(NetworkMapping, target_account_region["network"]),
+                    cast(Dict[str, Any], target_account_region["parameters_regional"]),
+                    target_account_region["account_id"],
+                    target_account_region["region"],
+                )
                 param_d["vpc_id"] = network.vpc_id  # type: ignore
                 param_d["private_subnet_ids"] = network.private_subnet_ids  # type: ignore
                 param_d["security_group_ids"] = network.security_group_ids  # type: ignore
 
             params.append(param_d)
 
         _ = list(workers.map(_prime_accounts, params))
@@ -606,31 +611,25 @@
 
         if modules_to_deploy:
             groups_to_deploy.append(
                 ModulesManifest(
                     name=group.name, path=group.path, concurrency=group.concurrency, modules=modules_to_deploy
                 )
             )
-    if unchanged_modules:
-        _print_modules(
-            f"Modules deployed that are up to date (will not be changed): {deployment_name} ", unchanged_modules
-        )
-    if not dryrun:
-        _deploy_deployment_is_not_dry_run(
-            deployment_manifest=deployment_manifest,
-            deployment_manifest_wip=deployment_manifest_wip,
-            groups_to_deploy=groups_to_deploy,
-        )
-    else:
-        _deploy_deployment_is_dry_run(groups_to_deploy=groups_to_deploy, deployment_name=deployment_name)
-
+    _print_modules(
+        f"Modules deployed that are up to date (will not be changed): {deployment_name} ", unchanged_modules
+    ) if unchanged_modules else None
+    _deploy_validated_deployment(
+        deployment_manifest=deployment_manifest,
+        deployment_manifest_wip=deployment_manifest_wip,
+        groups_to_deploy=groups_to_deploy,
+        dryrun=dryrun,
+    )
     print_bolded(f"To see all deployed modules, run seedfarmer list modules -d {deployment_name}")
-
-    if show_manifest:
-        print_manifest_json(deployment_manifest)
+    print_manifest_json(deployment_manifest) if show_manifest else None
 
 
 def apply(
     deployment_manifest_path: str,
     profile: Optional[str] = None,
     region_name: Optional[str] = None,
     dryrun: bool = False,
@@ -705,16 +704,16 @@
         if module_group.path:
             try:
                 with open(os.path.join(config.OPS_ROOT, module_group.path)) as manifest_file:
                     module_group.modules = [ModuleManifest(**m) for m in yaml.safe_load_all(manifest_file)]
             except Exception as e:
                 _logger.error(e)
                 _logger.error(f"Cannot parse a file at {os.path.join(config.OPS_ROOT, module_group.path)}")
-                _logger.error("Verify that elemts are filled out and yaml compliant")
-                exit(1)
+                _logger.error("Verify that elements are filled out and yaml compliant")
+                raise ValueError("Cannot parse manifest file path")
     deployment_manifest.validate_and_set_module_defaults()
 
     prime_target_accounts(deployment_manifest=deployment_manifest)
 
     module_info_index = du.populate_module_info_index(deployment_manifest=deployment_manifest)
     destroy_manifest = du.filter_deploy_destroy(deployment_manifest, module_info_index)
 
@@ -723,15 +722,15 @@
     _logger.debug("module_dependencies_dict: %s", json.dumps(module_dependencies_dict))
     violations = du.validate_module_dependencies(module_dependencies_dict, destroy_manifest)
     if violations:
         print_dependency_error_list(
             header_message="The following modules requested for destroy have dependencies that prevent destruction:",
             errored_list=violations,
         )
-        exit(1)
+        raise Exception("Modules cannot be destroyed due to dependencies")
 
     destroy_deployment(
         destroy_manifest=destroy_manifest,
         remove_deploy_manifest=False,
         dryrun=dryrun,
         show_manifest=show_manifest,
     )
```

## seedfarmer/mgmt/deploy_utils.py

```diff
@@ -169,15 +169,15 @@
                 )
     if group.name in group_wip:
         message = f"""
         ERROR!!!  An intra-group dependency for was found in a module reference for group {group.name}
           No module can refer to its own group for parameter lookups!!
         """
         print_bolded(message=message, color="red")
-        exit(1)
+        raise ValueError(message)
 
 
 def validate_module_dependencies(
     module_dependencies: Dict[str, List[str]], destroy_manifest: DeploymentManifest
 ) -> List[Dict[str, List[str]]]:
     """
     This will compare a dictionary of the module dependencies and a destroy manifest object to make sure there
```

## seedfarmer/models/manifests/_deployment_manifest.py

```diff
@@ -36,63 +36,31 @@
 
 class NetworkMapping(CamelModel):
     """
     NetworkMapping
     This class provides network metadata
     """
 
-    vpc_id: Union[str, ValueFromRef]
-    private_subnet_ids: Union[List[str], ValueFromRef]
-    security_group_ids: Union[List[str], ValueFromRef]
-
-    def __init__(self, **kwargs: Any) -> None:
-        super().__init__(**kwargs)
-        if not isinstance(self.security_group_ids, ValueFromRef) and len(self.security_group_ids) > 5:
-            raise ValueError("Cannot have more than 5 Security Groups in a Network")
+    vpc_id: Optional[Union[str, ValueFromRef]]
+    private_subnet_ids: Optional[Union[List[str], ValueFromRef]]
+    security_group_ids: Optional[Union[List[str], ValueFromRef]]
 
 
 class RegionMapping(CamelModel):
     """
     RegionMapping
     This class provides metadata about the regions where Modules are deployed
     """
 
     region: str
     default: bool = False
     parameters_regional: Dict[str, Any] = {}
-    network: Optional[NetworkMapping]
+    network: Optional[NetworkMapping] = None
     codebuild_image: Optional[str] = None
 
-    def __init__(self, **kwargs: Any) -> None:
-        super().__init__(**kwargs)
-        if self.network:
-            if isinstance(self.network.vpc_id, ValueFromRef):
-                self.network.vpc_id = cast(
-                    str,
-                    self.parameters_regional.get(str(self.network.vpc_id.value_from.parameter_value)),  # type: ignore
-                )
-            if isinstance(self.network.private_subnet_ids, ValueFromRef):
-                self.network.private_subnet_ids = cast(
-                    List[str],
-                    self.parameters_regional.get(
-                        str(self.network.private_subnet_ids.value_from.parameter_value)  # type: ignore
-                    ),
-                )
-            if isinstance(self.network.security_group_ids, ValueFromRef):
-                securityGroupIds = cast(
-                    List[str],
-                    self.parameters_regional.get(
-                        str(self.network.security_group_ids.value_from.parameter_value)  # type: ignore
-                    ),
-                )
-                if len(securityGroupIds) > 5:
-                    raise ValueError("Cannot have more than 5 Security Groups in a Network")
-                else:
-                    self.network.security_group_ids = securityGroupIds
-
 
 class TargetAccountMapping(CamelModel):
     """
     TargetAccountMapping
     This class provides metadata about the accounts where Modules are deployed
     """
 
@@ -243,14 +211,15 @@
                 for region in target_account.region_mappings:
                     self._accounts_regions.append(
                         {
                             "alias": target_account.alias,
                             "account_id": target_account.actual_account_id,
                             "region": region.region,
                             "network": region.network,  # type: ignore
+                            "parameters_regional": region.parameters_regional,  # type: ignore
                             "codebuild_image": cast(str, region.codebuild_image),
                         }
                     )
         return self._accounts_regions
 
     def get_parameter_value(
         self,
```

## seedfarmer/services/_service_utils.py

```diff
@@ -9,31 +9,41 @@
 #    Unless required by applicable law or agreed to in writing, software
 #    distributed under the License is distributed on an "AS IS" BASIS,
 #    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 #    See the License for the specific language governing permissions and
 #    limitations under the License.
 
 import logging
-from typing import Optional
+import os
+from typing import Dict, Optional
 
 import boto3
 import botocore.exceptions
 from boto3 import Session
 
 import seedfarmer
 
 _logger: logging.Logger = logging.getLogger(__name__)
 
 
+def setup_proxies() -> Dict[str, Optional[str]]:
+    proxies = {}
+    proxies["http"] = os.getenv("HTTP_PROXY", None)
+    proxies["https"] = os.getenv("HTTPS_PROXY", None)
+    _logger.debug("Proxies Configured: %s", proxies)
+    return proxies
+
+
 def get_botocore_config() -> botocore.config.Config:
     return botocore.config.Config(
         retries={"max_attempts": 5},
         connect_timeout=10,
         max_pool_connections=10,
         user_agent_extra=f"seedfarmer/{seedfarmer.__version__}",
+        proxies=setup_proxies(),
     )
 
 
 def create_new_session(region_name: Optional[str] = None, profile: Optional[str] = None) -> Session:
     return Session(region_name=region_name, profile_name=profile)
```

## Comparing `seed_farmer-2.6.5.dist-info/LICENSE` & `seed_farmer-2.7.0.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `seed_farmer-2.6.5.dist-info/METADATA` & `seed_farmer-2.7.0.dist-info/METADATA`

 * *Files 3% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: seed-farmer
-Version: 2.6.5
+Version: 2.7.0
 Summary: The AWS Professional Services CLI tool SeedFarmer for GitOps support with AWS_CodeSeeder
 Home-page: https://github.com/awslabs/seed-farmer
 Author: AWS Professional Services
 Author-email: aws-proserve-opensource@amazon.com
 License: Apache License 2.0
 Project-URL: Org Site, https://aws.amazon.com/professional-services/
 Keywords: aws,cdk
@@ -16,15 +16,15 @@
 Classifier: Programming Language :: Python :: 3 :: Only
 Classifier: Programming Language :: Python :: 3.7
 Classifier: Programming Language :: Python :: 3.8
 Classifier: Programming Language :: Python :: 3.9
 Classifier: Topic :: Software Development :: Libraries :: Application Frameworks
 Classifier: Topic :: Software Development :: Libraries :: Python Modules
 Classifier: Typing :: Typed
-Requires-Python: >=3.7
+Requires-Python: >=3.7,<3.12
 Description-Content-Type: text/markdown
 License-File: LICENSE
 License-File: NOTICE
 License-File: VERSION
 Requires-Dist: aws-codeseeder (~=0.9.0)
 Requires-Dist: cookiecutter (~=2.1.0)
 Requires-Dist: pyhumps (~=3.5.0)
```

## Comparing `seed_farmer-2.6.5.dist-info/RECORD` & `seed_farmer-2.7.0.dist-info/RECORD`

 * *Files 12% similar despite different names*

```diff
@@ -3,49 +3,50 @@
 seedfarmer/__metadata__.py,sha256=EvOaiIYE0aSQGrYmmphPD624zAhgFRJqfZjmXMwnfrY,829
 seedfarmer/checksum.py,sha256=JJsDF9JewZUna9eZGn8G2AL6wjZoKfGcH7xnS6ePVqU,5296
 seedfarmer/output_utils.py,sha256=JACoJkFcOFeA3I8-36vbs1Yvyw4sEiwkXP-oAEbMzbI,6695
 seedfarmer/utils.py,sha256=P0nGluGC6zz7oiXN78E4CNDpqfRQkDBevBvtKAto0iA,3768
 seedfarmer/cli_groups/__init__.py,sha256=Q45ODu3Ylf9_6-z7ITg7FnGhxocgfsfFGQ84DfSY2Jw,1055
 seedfarmer/cli_groups/_bootstrap_group.py,sha256=69FWd0NbkkycAcTqqHGhRv85HD5JFrf_jMFLw3pADWA,5235
 seedfarmer/cli_groups/_init_group.py,sha256=9q5ZVOPmSw3lalZzzcRa3bfsQ4cEges2SP_Eq1BHV14,2515
-seedfarmer/cli_groups/_list_group.py,sha256=PqMY8ZVrh7_ymezi7JcZf1hCtKawGlP9fs_8JYA_CEk,15799
+seedfarmer/cli_groups/_list_group.py,sha256=YhjqsOHzevq0TS-11WmjVBVwRAaV0DUJlKjiocrbxmQ,18318
 seedfarmer/cli_groups/_project_group.py,sha256=vxRnYiQRV3OM0FjJQQM3Jr1zAOs85n5Xs6Z7rlVBOfU,1353
 seedfarmer/cli_groups/_remove_group.py,sha256=_ZFQXJoyYyA_D6DfBcpWh7euytyXUjLAQn1jmvHuAIk,3841
 seedfarmer/cli_groups/_store_group.py,sha256=cMij9gBSlmVIcVhDP8FPipSuTRqMDn_-UwxJtxw3Sw4,9482
-seedfarmer/commands/__init__.py,sha256=9vdXKBbrVKn1mXUzhHX8NCNhiiYDUHu9rbKeGZJepe8,1789
+seedfarmer/commands/__init__.py,sha256=G538l_zcacHklhzMQbPDTYJeQPqsceGtT0vLi1v71H4,1896
 seedfarmer/commands/_bootstrap_commands.py,sha256=j3DrKo00q1N6v3WxTOA31h8IB8-0RixVoAm-Mr1QuqY,7159
-seedfarmer/commands/_deployment_commands.py,sha256=DMFXXlKo3SFo3B_6R4L7-94H58D6-SnxVrnFCj0sdFw,34783
+seedfarmer/commands/_deployment_commands.py,sha256=ODiNrMLygKAuoIGMzDP_yY7J0iAK0tysg_VQQPmKggc,35048
 seedfarmer/commands/_module_commands.py,sha256=BSAKEBIRwhx7aDe17vEY1Hf03l9JwmQpTFDyfUMsrDI,14911
+seedfarmer/commands/_network_parameter_commands.py,sha256=li8FkVxm-9kvnzCPsGjrPSiIQO-ohyWHQT1aAQTWml0,4422
 seedfarmer/commands/_parameter_commands.py,sha256=UtMhF8zIrKiJ_pER1mu3-cUn0qc4qPT1mmvouLyY56g,6318
 seedfarmer/commands/_project_policy_commands.py,sha256=QS1Uwy5j4iQefTdaD0oWj2NG9PPg1SRWWsw1lPPeOH8,913
 seedfarmer/commands/_stack_commands.py,sha256=p1sAX068jyKl-XKwV755nvBA5K5AW5tcOcInXN_fhT0,16802
 seedfarmer/mgmt/__init__.py,sha256=Qz_05CgTv9f5gTVU6zfLZILbuDEMOcA0ffdcu7OsY5k,643
 seedfarmer/mgmt/build_info.py,sha256=PbwK8X2deNulYzTiCYGiroZGM0-jKOZF02EZ6_VdzGs,1583
-seedfarmer/mgmt/deploy_utils.py,sha256=nV5Iw4uZdPui6OMxkrsjy0Z4zWxAYUgfb0HbCJjJevk,24249
+seedfarmer/mgmt/deploy_utils.py,sha256=myAhLZxKwuAU_qh25HzHiUa0-e6UXMaCDJ-i_Du_JEA,24267
 seedfarmer/mgmt/module_info.py,sha256=aKFeysSXb5-ENgj3LHJGtBYqIpofY-5I1p9_rbRVnwk,26787
 seedfarmer/mgmt/module_init.py,sha256=r176v1ioOGDD8Mq4klXIpZr9wX-4C-PywtrR02I47Ak,3596
 seedfarmer/models/__init__.py,sha256=_ZJ4lA83cCB4ZgxqhrfK9gj8AbyHHzd2O_OoDqMCbrs,1085
 seedfarmer/models/_base.py,sha256=yvLMO8QJvG3K6WBz4pszvd4oLZBrU0cE8QExDVAWsnc,1403
 seedfarmer/models/_deploy_spec.py,sha256=fJfDKexpyKje1bMKb8l_qbaEM3ycXQdcV77YsR78jN0,2563
 seedfarmer/models/_project_spec.py,sha256=ZLTUYSXJ6WLy3VeHa5DIFvsQUMBeWSq0cG4t0hLsYks,1037
 seedfarmer/models/deploy_responses.py,sha256=g-C3zn3GZTwbHvCJ3NIbKEpVPfnIN0ZNL2u8M9gf89w,2060
 seedfarmer/models/manifests/__init__.py,sha256=vcDfpmYs7VeYT-vbMBiC7UvKWFKQJT-w4qdZKAewuvg,1154
-seedfarmer/models/manifests/_deployment_manifest.py,sha256=CmkpSbI0QARcUXHlpPWXJY21Rfw6Bh0FTIM9cYxam6Y,14869
+seedfarmer/models/manifests/_deployment_manifest.py,sha256=OdZ9k97Bfh_zwC4he6qjaPe_dz0Eh8yLqf0HJM7FPTY,13425
 seedfarmer/models/manifests/_module_manifest.py,sha256=bK1nlKFuHbeHkRAv1Fhy1wP_OvavmlHuCZ1Y3qXerS0,3235
 seedfarmer/resources/deployment_role.template,sha256=LoZ3q1o4SgprhUHiafUzVLkd3_ou1T68K85ACQ9IpyQ,5552
 seedfarmer/resources/projectpolicy.yaml,sha256=8FnSXVmOT95ZIQy9B7IVUkxKPmmhaQXUmUDpnhVMSNU,2549
 seedfarmer/resources/toolchain_role.template,sha256=3v7oW7yhSIajgEadU4893HjRaA7ol3lE6obRSN6mjGw,1400
 seedfarmer/services/__init__.py,sha256=mTKJurSlHAhurb2Gdot7UJwDA8R103pHx_vZCt-Bai4,1040
 seedfarmer/services/_codebuild.py,sha256=VY1NXRgPRR1hxAvQMmSHvMqjbZid9ICzHe6xpRYT5kM,1255
 seedfarmer/services/_iam.py,sha256=lbn0CY011jzb4W5a37jEjEnuQrsIZ8nKPu5W4ZvEGv0,5160
 seedfarmer/services/_secrets_manager.py,sha256=6oQN9ZE7DY7Rwjcx_QZapBWCugxzpNTdbzxj7SJH50k,1705
-seedfarmer/services/_service_utils.py,sha256=clJKG7wlBMnl3vIN6mTGcT2HbEOqJAOGoLIXuphPSdk,4191
+seedfarmer/services/_service_utils.py,sha256=C7LrQ1evIEgXcVGurNZz-V9BSl-2IuG2xRCdc7otzFM,4486
 seedfarmer/services/_ssm.py,sha256=YCFX3x15WDhgnPQeuwK2otYEay1m0wQH7cIauTzFOnw,5801
 seedfarmer/services/session_manager.py,sha256=D11yhmDiXQUrpiCAU6uJ7ZX723rWxGx9whhfha9f3PY,7362
-seed_farmer-2.6.5.dist-info/LICENSE,sha256=DVQuDIgE45qn836wDaWnYhSdxoLXgpRRKH4RuTjpRZQ,10174
-seed_farmer-2.6.5.dist-info/METADATA,sha256=OMVfFjfIqTMoSARzOnj6E6Y8MemLiNna5GySCHWW1dE,3054
-seed_farmer-2.6.5.dist-info/NOTICE,sha256=1CkO1kwu3Q_OHYTj-d-yiBJA_lNN73a4zSntavaD4oc,67
-seed_farmer-2.6.5.dist-info/VERSION,sha256=-IXF3nb9gYYsn3FbdM-c63qvQ5rS0X1jeMOQ_I5P1DU,5
-seed_farmer-2.6.5.dist-info/WHEEL,sha256=00yskusixUoUt5ob_CiUp6LsnN5lqzTJpoqOFg_FVIc,92
-seed_farmer-2.6.5.dist-info/entry_points.txt,sha256=lxdm6KJKOs-cDkQ5snOEfpWM5xG9lplmKTC-15LyheI,57
-seed_farmer-2.6.5.dist-info/top_level.txt,sha256=znpV4OtUGmKGq4kQZ2cE_o9NxJgWxaM6dhPr1trkK0o,11
-seed_farmer-2.6.5.dist-info/RECORD,,
+seed_farmer-2.7.0.dist-info/LICENSE,sha256=DVQuDIgE45qn836wDaWnYhSdxoLXgpRRKH4RuTjpRZQ,10174
+seed_farmer-2.7.0.dist-info/METADATA,sha256=S1w8eh4mj3km0AWEWVCOFDlEiIovsFFv4lZQgYJur3Q,3060
+seed_farmer-2.7.0.dist-info/NOTICE,sha256=1CkO1kwu3Q_OHYTj-d-yiBJA_lNN73a4zSntavaD4oc,67
+seed_farmer-2.7.0.dist-info/VERSION,sha256=NiFI13Ia1KG7ZJgf-NYE739NIiZ-qIRQQvVPkJQPJP0,6
+seed_farmer-2.7.0.dist-info/WHEEL,sha256=00yskusixUoUt5ob_CiUp6LsnN5lqzTJpoqOFg_FVIc,92
+seed_farmer-2.7.0.dist-info/entry_points.txt,sha256=lxdm6KJKOs-cDkQ5snOEfpWM5xG9lplmKTC-15LyheI,57
+seed_farmer-2.7.0.dist-info/top_level.txt,sha256=znpV4OtUGmKGq4kQZ2cE_o9NxJgWxaM6dhPr1trkK0o,11
+seed_farmer-2.7.0.dist-info/RECORD,,
```

